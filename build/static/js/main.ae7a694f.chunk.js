(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{21:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),a=n(4),i=n.n(a),r=n(5),l=n(3),d=n(2),o=n(1);function u(){var e=Object(s.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","../css/dark-theme.css"),e.setAttribute("id","theme-css"),document.head.appendChild(e)}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{onClick:function(){return function(){var e=document.querySelector("#theme-css");n?(e.setAttribute("href","../css/dark-theme.css"),c(!1)):(e.setAttribute("href","../css/light-theme.css"),c(!0))}()},className:"theme-container",children:[Object(o.jsx)("img",{src:"../images/icon-sun.svg",alt:"Sun",className:"theme-icon",style:n?{display:"none"}:null}),Object(o.jsx)("img",{src:"../images/icon-moon.svg",alt:"Moon",className:"theme-icon",style:n?null:{display:"none"}})]})})}function j(e){var t=Object(s.useState)(""),n=Object(d.a)(t,2),c=n[0],a=n[1];return Object(o.jsxs)("div",{className:"header",children:[Object(o.jsxs)("div",{className:"grid-row book-ends",children:[Object(o.jsx)("h1",{className:"main-heading",children:"TODO"})," ",Object(o.jsx)("span",{children:Object(o.jsx)(u,{})})]}),Object(o.jsx)("div",{className:"grid-row task_input mt-md",children:Object(o.jsxs)("div",{className:"task-input",children:[Object(o.jsx)("span",{}),Object(o.jsx)("input",{value:c,onKeyPress:function(t){if(""!==t.target.value&&("Enter"===t.key||13===t.keyCode)){var n={status:"Open",id:Date.now(),task:c};e.handleTasks({type:"CREATE",payload:n}),a("")}},onChange:function(e){a(e.target.value)}})]})})]})}function b(e){var t=Object(s.useState)({}),n=Object(d.a)(t,2),c=n[0],a=n[1],i=Object(s.useState)(null),r=Object(d.a)(i,2),l=r[0],u=r[1];Object(s.useEffect)((function(){a(e.task)}),[]),Object(s.useEffect)((function(){"Open"===e.task.status?u(!1):u(!0),e.saveTasks()}));var j=function(){l?(u(!l),a((function(e){return e.status="Open",e}))):(u(!l),a((function(e){return e.status="Closed",e})))};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"task-container",children:[Object(o.jsx)("input",{id:c.id,className:"checkmark-container",checked:l,type:"checkbox"}),Object(o.jsx)("label",{for:c.id,onClick:function(){return j()}}),Object(o.jsx)("div",{className:"task-description",id:"task-description",onClick:function(){return j()},children:c.task}),Object(o.jsx)("div",{className:"delete-icon",onClick:function(){e.handleTasks({type:"DELETE",payload:c})}})]})})}function O(e){var t=Object(s.useState)(0),n=Object(d.a)(t,2),c=n[0],a=n[1];return Object(s.useEffect)((function(){var t=e.tasks.filter((function(e){return"Open"===e.status})).length;a(t)}),[e.tasks]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"action-bar task-container",id:"actionBar",children:[Object(o.jsxs)("div",{className:"",children:[c," items left"]}),Object(o.jsxs)("div",{className:"main-filters",children:[Object(o.jsx)("span",{onClick:function(){return e.setFilter("ALL")},className:"ALL"===e.filter?"active-filter":null,children:"All"}),Object(o.jsx)("span",{onClick:function(){return e.setFilter("ACTIVE")},className:"ACTIVE"===e.filter?"active-filter":null,children:"Active"}),Object(o.jsx)("span",{onClick:function(){return e.setFilter("COMPLETE")},className:"COMPLETE"===e.filter?"active-filter":null,children:"Complete"})]}),Object(o.jsx)("div",{className:"clear-completed",children:Object(o.jsx)("span",{onClick:function(){return e.setFilter("CLEAR-COMPLETE")},children:"Clear Completed"})})]}),Object(o.jsx)("div",{className:"drag-text",children:"Drag and drop to reorder list"})]})}var f=n(8);var h=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)([]),i=Object(d.a)(a,2),u=i[0],h=i[1],p=Object(s.useState)("ALL"),m=Object(d.a)(p,2),x=m[0],k=m[1];function v(e){switch(e.type){case"CREATE":h((function(t){return[].concat(Object(l.a)(t),[e.payload])})),c((function(t){return[].concat(Object(l.a)(t),[e.payload])}));break;case"DELETE":var t=n.findIndex((function(t){return t.id===e.payload.id})),s=n;s.splice(t,1);c(Object(l.a)(s));var a=u.findIndex((function(t){return t.id===e.payload.id})),i=u;i.splice(a,1);h(Object(l.a)(i));break;default:return void c(u)}}function g(){localStorage.setItem("todo-taskList",JSON.stringify(u))}return Object(s.useEffect)((function(){if(0===u.length){var e=JSON.parse(localStorage.getItem("todo-taskList"));c(e),h(e),k("ALL")}}),[]),Object(s.useEffect)((function(){g()})),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"background-header"}),Object(o.jsxs)("div",{className:"grid-container",children:[Object(o.jsx)(j,{handleTasks:v}),Object(o.jsxs)("div",{className:"mt-md",children:[Object(o.jsx)(f.a,{onDragEnd:function(e){var t=e.draggableId,s=e.source,a=e.destination;if(console.log(t,s,a),a&&s.index!==s.destination){var i=Object(l.a)(n),r=i.splice(s.index,1);i.splice.apply(i,[a.index,0].concat(Object(l.a)(r))),"ALL"===x&&(c(i),h(i))}},children:Object(o.jsx)(f.c,{droppableId:"main-tasklist-1",type:"TASK",children:function(e){return Object(o.jsxs)("ul",Object(r.a)(Object(r.a)({className:"task-list",ref:e.innerRef},e.droppableProps),{},{children:[n.map((function(e,t){return Object(o.jsx)(f.b,{draggableId:e.task,index:t,children:function(n){return Object(o.jsx)("li",Object(r.a)(Object(r.a)(Object(r.a)({ref:n.innerRef,index:t},n.draggableProps),n.dragHandleProps),{},{children:Object(o.jsx)(b,{task:e,handleTasks:v,saveTasks:g})}))}},e.id)})),e.placeholder]}))}})}),Object(o.jsx)(O,{tasks:n,handleTasks:v,filter:x,setFilter:function(e){if(k(e),"ALL"===e&&c(u),"ACTIVE"===e){var t=u.filter((function(e){return"Open"===e.status}));c(t)}if("COMPLETE"===e){var s=u.filter((function(e){return"Closed"===e.status}));c(s)}"CLEAR-COMPLETE"===e&&(h(u.filter((function(e){return"Open"===e.status}))),c(n.filter((function(e){return"Open"===e.status}))),k("ALL"))}})]})]})]})};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(h,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.ae7a694f.chunk.js.map